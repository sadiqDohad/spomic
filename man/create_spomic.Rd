% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spomic.R
\name{create_spomic}
\alias{create_spomic}
\title{Create a Spomic Object from a Data Frame or CSV File}
\usage{
create_spomic(p, drop_na = TRUE)
}
\arguments{
\item{p}{A \code{data.frame} or a character string giving the path to a CSV file.
The data must contain the required columns: \code{"x"}, \code{"y"},
\code{"cell_type"}, and \code{"sample"}.}

\item{drop_na}{Logical, default \code{TRUE}. If \code{TRUE}, rows containing any \code{NA} values
are removed using \code{\link[tidyr]{drop_na}}.}
}
\value{
A \code{\linkS4class{Spomic}} object with populated slots:
\describe{
\item{details}{A list containing the sample ID and an empty hyperparameter list.}
\item{df}{The cleaned and validated data frame.}
\item{pp}{A \code{spatstat.geom::ppp} object representing the spatial point pattern.}
\item{results}{An empty list for storing analysis results.}
}
}
\description{
Constructs a new \code{\linkS4class{Spomic}} object from a provided
data frame or path to a CSV file. The function validates required columns,
ensures proper data types, optionally removes missing values, and
generates a spatial point pattern (\code{ppp}) representation.
}
\details{
The function:
\enumerate{
\item Reads the data from a CSV file if \code{p} is a character string.
\item Optionally drops rows with missing values.
\item Validates the presence of required columns using \code{\link{validate_columns}}.
\item Checks that \code{"x"} and \code{"y"} are numeric.
\item Ensures only one unique \code{sample} value is present.
\item Creates a \code{\linkS4class{Spomic}} object, including the point pattern via \code{\link{spomic_to_pp}}.
}
}
\seealso{
\code{\linkS4class{Spomic}},
\code{\link{validate_columns}},
\code{\link{spomic_to_pp}}
}
